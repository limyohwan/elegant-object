# 생성자 하나를 주 생성자로 만드세요

### 생성자(constructor/ctor)
- 새로운 객체에 대한 진입점
- 인자들을 전달받아, 어떤 일을 수행한 후, 임무를 수행할 수 있도록 객체를 준비
- 클래스는 많은 수의 생성자(5 ~ 10)와 적은 수의 메서드(2 ~ 3)를 포함하는 것이 바람직함
- 생성자가 많아질 수록 클래스가 더 유연해짐, 메서드가 많아지면 클래스를 사용하기 어려워짐 -> 단일 책임 원칙(SRP) 위반
- 제공된 인자를 사용해서 캡슐화하고 있는 프로퍼티를 초기화하는 일

```java
class Cash {
    private int dollars;
    
    Cash(float dlr) {
        this((int) dlr);
    }
    
    Cash(String dlr) {
        this(Cash.parse(dlr));
    }

    Cash(int dlr) {
        this.dollars = dlr;
    }
}
```

- 주 생성자를 맨 뒤에 위치시킴 -> 유지보수성 향상
- 유효성 검사로직 추가시 주 생성자에만 추가하면 됨
- 코드의 복잡성을 줄이고 중복 제거

### 1-2 느낀점
1. 여러개의 부생성자를 만들고 주생성자를 두어 객체를 생성하는 방법은 도움이 많이 되었던 것 같다.

```java
//리팩터링 전
public class ApiResponse<T> {
    private String result;
    private int statusCode;
    private String message;
    private T data;

    public ApiResponse(HttpStatus statusCode, T data) {
        this.result = getResultByStatusCode(statusCode.value());
        this.statusCode = statusCode.value();
        this.data =data;
    }

    public ApiResponse(HttpStatus statusCode, String message) {
        this.result = getResultByStatusCode(statusCode.value());
        this.statusCode = statusCode.value();
        this.message = message;
    }

    public ApiResponse(int statusCode, String message) {
        this.result = getResultByStatusCode(statusCode);
        this.statusCode = statusCode;
        this.message = message;
    }

    private String getResultByStatusCode(int statusCode){}
}
```

```java
//리팩터링 후
public class ApiResponse<T> {
    private String result;
    private int statusCode;
    private String message;
    private T data;

    public ApiResponse(HttpStatus statusCode, T data) {
        this(statusCode.value(), null, data);
    }

    public ApiResponse(HttpStatus statusCode, String message) {
        this(statusCode.value(), message, null);
    }

    public ApiResponse(int statusCode, String message) {
        this(statusCode, message, null);
    }

    public ApiResponse(int statusCode, String message, T data) {
        this.result = getResultByStatusCode(statusCode);
        this.statusCode = statusCode;
        this.message = message;
        this.data = data;
    }

    private String getResultByStatusCode(int statusCode){}
}
```

getResultByStatusCode() 메서드를 3곳에서 할필요 없이 공통부분은 주생성자에서 호출할 수 있도록 수정하였다.
생성자하나를 주생성자로 하고 부생성자를 여러개 만들어 주생성자를 호출하도록 리팩터링하였는데 코드가 말도안되게 간결해지고 가독성이 훨씬 올라갔다.